function __require_once(t){const e=document.createElement("script");e.src=t,e.setAttribute("data-scriptname",t),document.body.appendChild(e)}function __delete_once(t){document.querySelector("[data-scriptname]").remove()}function _CHECK_FILE_EXISTS(t){const e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),e.status}function _ERROR_MEN(t="",e=""){const n=document.querySelector("html");n.innerHTML="";const o=document.createElement("p"),l=document.createElement("p");t=document.createTextNode("Error: "+t),e=document.createTextNode("Cek: "+e);return o.append(t),o.style.color="red",l.append(e),l.style.color="green",n.appendChild(o),n.appendChild(l),!1}function _LOAD_FILE(t,e,n="json",o=null){"json"==n?fetch(t).then(t=>t.json()).then(t=>{e(null!=o?t[o]:t)}):(n="text",fetch(t).then(t=>t.text()).then(t=>{e(null!=o?t[o]:t)}))}function _RE_OUTER(e,n){let o={},t=e.match(/#{(.*?)}#{1}/g);null===t&&_ERROR_MEN("Waduh, ada yang error nih! Coba cek penulisan tandanya.",e),t.forEach(t=>{o[t]=t.replace(/#{(.*?)}#{1}/g,"$1")});var l=Object.keys(o);for(let t=0;t<l.length;t++)null==n[o[l[t]]]&&(n[o[l[t]]]="-"),e=e.replaceAll(l[t],n[o[l[t]]]);return e}function _PARSE_MARKDOWN(t){t=t.trim();const e=window.markdownit();return e.render(t)}function _LOAD_CONFIG(e){const t=document.querySelectorAll("[--data-web]");t.forEach(function(t){t.outerHTML=_RE_OUTER(t.outerHTML,e)})}function _SHOW_POST(e){let t=document.querySelectorAll("[--data-post]");t.forEach(t=>{t.outerHTML=_RE_OUTER(t.outerHTML,_REBUILD_POST(e))})}function _CHECK_FILE_POST_HTML(){_LOAD_FILE("konfigurasi.json",_GET_FILE_POST_HTML)}function _GET_FILE_POST_HTML(t){void 0!==t.file_post_html&&""!==t.file_post_html||(t.file_post_html="post.html");var e=window.location.href.split()[0].split("/");(e=e[e.length-1])!==t.file_post_html&&"index.html"==e||_GET_POSTINGAN();const n=window.location.href.split("/");n[n.length-1].includes("post.html")&&0==n[n.length-1].includes(t.file_post_html+"?/")&&__REDIRECT("index.html")}function __REDIRECT(t){window.location.replace(t)}function _GET_POSTINGAN(){let t=window.location.href;var e;t=t.split("?/"),1<t.length&&(200==_CHECK_FILE_EXISTS("postingan/"+(e=t[t.length-1])+".md")?_LOAD_FILE("postingan/"+e+".md",_SHOW_POST,"text"):window.location.replace("404.html"))}function _REBUILD_POST(t){const e=t.match(/[\+--\_]{2}([^\\_]+)[\+--\_]{2}/g),n=e[0].match(/[^\r\n]+/g);n.pop(),n.shift();let o={};n.forEach(function(t){let e=t.split(" : ");null==e[1]&&console.log("Perhatikan penulisan meta pada file markdown."),o[e[0]]=e[1].trim().replaceAll('"',"")});t=t.replace(e[0],"");return o.isi=_PARSE_MARKDOWN(t),o}let $totalfile=0,$hasilfile=[];function _CHECK_FILE_PAGES(t){t.totalpage=t.page.length;t="datapost/list/"+t.page[_CHECK_PAGE()-1]+".json";200==_CHECK_FILE_EXISTS(t)?_LOAD_FILE(t,_GET_FILE_MD,"json","postingan"):_ERROR_MEN('File "page.json" di folder "datapost" tidak sesuai dengan nama file di folder "datapost/list"',"datapost/list | page.json")}function _SET_LIST_POST(o){const e=document.querySelector("[--daftar-post]");if(null==e)return!1;for(let t=0;t<o.length-1;t++)e.parentElement.appendChild(e.cloneNode(!0));const t=document.querySelectorAll("[--daftar-post]");t.forEach(function(t,e){const n=t.querySelectorAll("[--data-post]");n.forEach(function(t){t.outerHTML=_RE_OUTER(t.outerHTML,o[e])})})}function _GET_FILE_MD(t){_CEK_FILE_POSTINGAN(t.length),t.forEach(e=>{fetch("postingan/"+e.url+".md").then(t=>t.text()).then(function(t){_GET_META_MD(t,e.url)})})}function _GET_META_MD(t,e){const n=t.match(/[\+--\_]{2}([^\\_]+)[\+--\_]{2}/g);if(null===n)return _ERROR_MEN("Nama file postingan tidak sama dengan yang ada di datapost/list","datapost/list | postingan"),!1;const o=n[0].match(/[^\r\n]+/g);o.pop(),o.shift();let l={};o.forEach(function(t){let e=t.split(" : ");null==e[1]&&console.log("Perhatikan penulisan meta pada file markdown."),l[e[0]]=e[1].trim().replaceAll('"',"")}),l.url=e,$hasilfile.push(l)}function _CEK_FILE_POSTINGAN(t){const e=setInterval(()=>{t===$hasilfile.length?(clearInterval(e),_SET_LIST_POST($hasilfile)):null===t&&clearInterval(e)},100)}function _CHECK_PAGE(){const t=window.location.href;let e;if(null!=t.search("index.html"))return e=t.split("?="),1<e.length&&""!=e[1]?e[1]:1}function _RUN_PAGE(t){_LOAD_FILE("datapost/page.json",_CHECK_FILE_PAGES)}function _GET_PAGE(t){const e={};e.total=t.page.length,e.sekarang=_CHECK_PAGE(),e.setelah=parseInt(_CHECK_PAGE())+1,e.sebelum=parseInt(_CHECK_PAGE())-1,parseInt(_CHECK_PAGE())==e.total&&(e.setelah=e.total),1==parseInt(_CHECK_PAGE())&&(e.sebelum=1);const n=document.querySelectorAll("[--data-page]");n.forEach(t=>{t.outerHTML=_RE_OUTER(t.outerHTML,e)})}__require_once("maincore/markdown-it/markdown-it.min.js"),_LOAD_FILE("konfigurasi.json",_LOAD_CONFIG),window.onload=_RUN_PAGE(),_CHECK_FILE_POST_HTML(),_LOAD_FILE("datapost/page.json",_GET_PAGE);