function _CHECK_FILE_EXISTS(e){const t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),t.status}function _ERROR_MEN(e="",t=""){const n=document.querySelector("html");n.innerHTML="";const l=document.createElement("p"),o=document.createElement("p");e=document.createTextNode("Error: "+e),t=document.createTextNode("Cek: "+t);return l.append(e),l.style.color="red",o.append(t),o.style.color="green",n.appendChild(l),n.appendChild(o),!1}function _LOAD_FILE(e,t,n="json",l=null){"json"==n?fetch(e).then(e=>e.json()).then(e=>{t(null!=l?e[l]:e)}):(n="text",fetch(e).then(e=>e.text()).then(e=>{t(null!=l?e[l]:e)}))}function _RE_OUTER(t,n){let l={},e=t.match(/#{(.*?)}#{1}/g);null===e&&_ERROR_MEN("Waduh, ada yang error nih! Coba cek penulisan tandanya.",t),e.forEach(e=>{l[e]=e.replace(/#{(.*?)}#{1}/g,"$1")});var o=Object.keys(l);for(let e=0;e<o.length;e++)null==n[l[o[e]]]&&(n[l[o[e]]]="-"),t=t.replaceAll(o[e],n[l[o[e]]]);return t}function _PARSE_MARKDOWN(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\n\s*(\*|\-)\s*([^\n]*)/g,"\n<ul><li>$2</li></ul>")).replace(/^\s*\n\d\./gm,"<ol>\n1.")).replace(/^(\d\..+)\s*\n([^\d\.])/gm,"$1\n</ol>\n\n$2")).replace(/^\d\.(.+)/gm,"<li>$1</li>")).replace(/^\>(.+)/gm,"<blockquote>$1</blockquote>")).replace(/[\#]{6}(.+)/g,"<h6>$1</h6>")).replace(/[\#]{5}(.+)/g,"<h5>$1</h5>")).replace(/[\#]{4}(.+)/g,"<h4>$1</h4>")).replace(/[\#]{3}(.+)/g,"<h3>$1</h3>")).replace(/[\#]{2}(.+)/g,"<h2>$1</h2>")).replace(/[\#]{1}(.+)/g,"<h1>$1</h1>")).replace(/^(.+)\n\=+/gm,"<h1>$1</h1>")).replace(/^(.+)\n\-+/gm,"<h2>$1</h2>")).replace(/\!\[([^\]]+)\]\(([^\)]+)\)/g,'<img src="$2" alt="$1" />')).replace(/[\[]{1}([^\]]+)[\]]{1}[\(]{1}([^\)\"]+)(\"(.+)\")?[\)]{1}/g,'<a href="$2" title="$4">$1</a>')).replace(/[\*\_]{2}([^\*\_]+)[\*\_]{2}/g,"<b>$1</b>")).replace(/[\*\_]{1}([^\*\_]+)[\*\_]{1}/g,"<i>$1</i>")).replace(/[\~]{2}([^\~]+)[\~]{2}/g,"<del>$1</del>")).replace(/^\s*\n\`\`\`(([^\s]+))?/gm,'<pre class="$2">')).replace(/^\`\`\`\s*\n/gm,"</pre>\n\n")).replace(/[\`]{1}([^\`]+)[\`]{1}/g,"<code>$1</code>")).replace(/^\s*(\n)?(.+)/gm,function(e){return/\<(\/)?(h\d|ul|ol|li|blockquote|pre|img)/.test(e)?e:"<p>"+e+"</p>"})).replace(/(\<pre.+\>)\s*\n\<p\>(.+)\<\/p\>/gm,"$1$2")}function _LOAD_CONFIG(t){const e=document.querySelectorAll("[--data-web]");e.forEach(function(e){e.outerHTML=_RE_OUTER(e.outerHTML,t)})}function _SHOW_POST(t){let e=document.querySelectorAll("[--data-post]");e.forEach(e=>{e.outerHTML=_RE_OUTER(e.outerHTML,_REBUILD_POST(t))})}function _CHECK_FILE_POST_HTML(){_LOAD_FILE("konfigurasi.json",_GET_FILE_POST_HTML)}function _GET_FILE_POST_HTML(e){void 0!==e.file_post_html&&""!==e.file_post_html||(e.file_post_html="post.html");var t=window.location.href.split()[0].split("/");(t=t[t.length-1])!==e.file_post_html&&"index.html"==t||_GET_POSTINGAN();const n=window.location.href.split("/");n[n.length-1].includes("post.html")&&0==n[n.length-1].includes(e.file_post_html+"?/")&&__REDIRECT("index.html")}function __REDIRECT(e){window.location.replace(e)}function _GET_POSTINGAN(){let e=window.location.href;var t;e=e.split("?/"),1<e.length&&(200==_CHECK_FILE_EXISTS("postingan/"+(t=e[e.length-1])+".md")?_LOAD_FILE("postingan/"+t+".md",_SHOW_POST,"text"):window.location.replace("404.html"))}function _REBUILD_POST(e){const t=e.match(/[\+--\_]{2}([^\\_]+)[\+--\_]{2}/g),n=t[0].match(/[^\r\n]+/g);n.pop(),n.shift();let l={};n.forEach(function(e){let t=e.split(" : ");null==t[1]&&console.log("Perhatikan penulisan meta pada file markdown."),l[t[0]]=t[1].trim().replaceAll('"',"")});e=e.replace(t[0],"");return l.isi=_PARSE_MARKDOWN(e),l}let $totalfile=0,$hasilfile=[];function _CHECK_FILE_PAGES(e){e.totalpage=e.page.length;e="datapost/list/"+e.page[_CHECK_PAGE()-1]+".json";200==_CHECK_FILE_EXISTS(e)?_LOAD_FILE(e,_GET_FILE_MD,"json","postingan"):_ERROR_MEN('File "page.json" di folder "datapost" tidak sesuai dengan nama file di folder "datapost/list"',"datapost/list | page.json")}function _SET_LIST_POST(l){const t=document.querySelector("[--daftar-post]");if(null==t)return!1;for(let e=0;e<l.length-1;e++)t.parentElement.appendChild(t.cloneNode(!0));const e=document.querySelectorAll("[--daftar-post]");e.forEach(function(e,t){const n=e.querySelectorAll("[--data-post]");n.forEach(function(e){e.outerHTML=_RE_OUTER(e.outerHTML,l[t])})})}function _GET_FILE_MD(e){_CEK_FILE_POSTINGAN(e.length),e.forEach(t=>{fetch("postingan/"+t.url+".md").then(e=>e.text()).then(function(e){_GET_META_MD(e,t.url)})})}function _GET_META_MD(e,t){const n=e.match(/[\+--\_]{2}([^\\_]+)[\+--\_]{2}/g);if(null===n)return _ERROR_MEN("Nama file postingan tidak sama dengan yang ada di datapost/list","datapost/list | postingan"),!1;const l=n[0].match(/[^\r\n]+/g);l.pop(),l.shift();let o={};l.forEach(function(e){let t=e.split(" : ");null==t[1]&&console.log("Perhatikan penulisan meta pada file markdown."),o[t[0]]=t[1].trim().replaceAll('"',"")}),o.url=t,$hasilfile.push(o)}function _CEK_FILE_POSTINGAN(e){const t=setInterval(()=>{e===$hasilfile.length?(clearInterval(t),_SET_LIST_POST($hasilfile)):null===e&&clearInterval(t)},100)}function _CHECK_PAGE(){const e=window.location.href;let t;if(null!=e.search("index.html"))return t=e.split("?="),1<t.length&&""!=t[1]?t[1]:1}function _RUN_PAGE(e){_LOAD_FILE("datapost/page.json",_CHECK_FILE_PAGES)}function _GET_PAGE(e){const t={};t.total=e.page.length,t.sekarang=_CHECK_PAGE(),t.setelah=parseInt(_CHECK_PAGE())+1,t.sebelum=parseInt(_CHECK_PAGE())-1,parseInt(_CHECK_PAGE())==t.total&&(t.setelah=t.total),1==parseInt(_CHECK_PAGE())&&(t.sebelum=1);const n=document.querySelectorAll("[--data-page]");n.forEach(e=>{e.outerHTML=_RE_OUTER(e.outerHTML,t)})}_LOAD_FILE("konfigurasi.json",_LOAD_CONFIG),window.onload=_RUN_PAGE(),_CHECK_FILE_POST_HTML(),_LOAD_FILE("datapost/page.json",_GET_PAGE);